var v=Object.defineProperty,h=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var g=(t,e,a)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,u=(t,e)=>{for(var a in e||(e={}))x.call(e,a)&&g(t,a,e[a]);if(b)for(var a of b(e))C.call(e,a)&&g(t,a,e[a]);return t},i=(t,e)=>h(t,k(e));import{h as E,j as S,r as m,u as j,R as l,n as F,at as B,F as I,E as R}from"./vendor.665713fb.js";import{b as p}from"./index.esm.d07bb2cd.js";import{F as T}from"./form-item.65bd6484.js";import"./index.b1322eb0.js";const O=()=>{const t=E(),{t:e}=S(),[a,c]=m.exports.useState([]),{pathname:y}=j(),d=()=>{p.get("settings",{params:{group:parseInt(y.split("/").pop()||"0")}}).then(s=>{const r=s.data;r.code!==200?t({title:e(r.message),status:"error",duration:3e3,isClosable:!0}):c(r.data)})};return m.exports.useEffect(()=>{d()},[]),l.createElement(F,{w:"full"},l.createElement(B,{minChildWidth:"400px",spacing:"2"},a.map(s=>{var r,f;return l.createElement(T,{key:s.key,type:s.type,label:s.key,value:s.type==="bool"?s.value==="true":s.value,readOnly:s.group===2,values:(r=s.values)==null?void 0:r.split(","),description:`${e(s.description)}(${e(s.group===0?"public":s.group===1?"private":"readonly")})`,onChange:n=>{c(a.map(o=>o.key===s.key?s.type==="number"?i(u({},o),{value:n.toString()}):s.type!=="bool"?i(u({},o),{value:n}):i(u({},o),{value:s.value==="true"?"false":"true"}):o))},onDelete:s.version===((f=a.find(n=>n.key==="version"))==null?void 0:f.value)?void 0:()=>{p.delete("setting",{params:{key:s.key}}).then(n=>{const o=n.data;o.code!==200?t({title:e(o.message),status:"error",duration:3e3,isClosable:!0}):(t({title:e(o.message),status:"success",duration:3e3,isClosable:!0}),d())})}})})),l.createElement(I,{mt:"2",justify:"end"},l.createElement(R,{onClick:()=>{p.post("settings",a).then(s=>{const r=s.data;r.code!==200?t({title:e(r.message),status:"error",duration:3e3,isClosable:!0}):t({title:e(r.message),status:"success",duration:3e3,isClosable:!0})})}},e("Save"))))};export{O as default};
